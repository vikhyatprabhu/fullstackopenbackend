{"version":3,"sources":["components/Persons.js","components/SearchFilter.js","components/PersonForm.js","services/personService.js","components/Notification.js","App.js","index.js"],"names":["Persons","props","persons","map","person","react_default","a","createElement","key","name","number","onClick","handleDelete","id","SearchFilter","_ref","filterText","handleFilterTextChange","value","onChange","PersonForm","newName","newPhoneNumber","handleNameChange","handleNumberChange","handleSubmit","onSubmit","type","baseUrl","personService","axios","get","then","response","data","newObject","post","put","concat","delete","Notification","notification","className","message","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNotification","useEffect","_useState5","_useState6","setNewName","_useState7","_useState8","setNewPhoneNumber","_useState9","_useState10","setFilterText","displayList","toConsumableArray","length","filter","includes","components_Notification","components_SearchFilter","event","target","components_PersonForm","preventDefault","find","window","confirm","objectSpread","newPerson","currentPerson","setTimeout","alert","components_Persons","p","catch","error","ReactDOM","render","src_App","notes","content","date","important","document","getElementById"],"mappings":"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","file":"static/js/main.82e6e5ed.chunk.js","sourcesContent":["import React from \"react\";\n\n\nconst Persons=(props)=>{\n  return props.persons.map(person => \n    <div key={person.name}>\n    <p > {person.name} {person.number} </p> \n    <button onClick={()=>props.handleDelete(person.id)}>Delete</button>\n    </div>\n  );\n}\n\nexport default Persons;\n","import React from 'react'\nconst SearchFilter = ({filterText,handleFilterTextChange}) => {\n    return ( \n      <div>\n      <p>rfilter shown with </p>\n      <input value={filterText} onChange={handleFilterTextChange}/>\n      </div>\n    )\n  };\n\nexport default SearchFilter;","import React from \"react\";\n\n\nconst PersonForm=({newName,newPhoneNumber,handleNameChange,handleNumberChange,handleSubmit})=>{\n   return ( \n   <form onSubmit={handleSubmit}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n          number: <input value={newPhoneNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n   )\n}\n\nexport default PersonForm;","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update,remove }","import React from \"react\";\nimport './notification.css'\nconst Notification = ({ notification }) => {\n    if (notification === null) {\n      return null\n    }\n  \n    return (\n      <div className={notification.type}>\n        {notification.message}\n      </div>\n    )\n  }\n\n  export default Notification;","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport SearchFilter from \"./components/SearchFilter\";\nimport PersonForm from \"./components/PersonForm\";\nimport personService from \"./services/personService\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then(persons => setPersons(persons));\n  }, []);\n  const [newName, setNewName] = useState(\"\");\n  const [newPhoneNumber, setNewPhoneNumber] = useState(\"\");\n  const [filterText, setFilterText] = useState(\"\");\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (persons.map(person => person.name).includes(newName)) {\n      let person = persons.find(person => person.name === newName);\n      if (person.number !== newPhoneNumber) {\n        if (\n          window.confirm(\n            person.name +\n              \" already exists in the phonebook,replace the old number with a new one?\"\n          )\n        ) {\n          personService\n            .update(person.id, { ...person, number: newPhoneNumber })\n            .then(newPerson => {\n              setPersons(\n                persons.map(currentPerson =>\n                  person.id !== currentPerson.id ? currentPerson : newPerson\n                )\n              )\n              setNotification({\n                message: `Person '${person.name}' was updated`,\n                type: \"success\"\n              });\n              setTimeout(() => {\n                setNotification(null);\n              }, 5000);\n\n\n                }\n\n\n            );\n        }\n      } else {\n        alert(person.name + \" already exists\");\n      }\n    } else {\n      personService\n        .create({ name: newName, number: newPhoneNumber })\n        .then(newPerson => {\n          setPersons(persons.concat(newPerson));\n          setNotification(\n            {message:`Person ${newPerson.name} was added`,type:\"success\"}\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        });\n    }\n    setNewName(\"\");\n    setNewPhoneNumber(\"\");\n  };\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = event => {\n    setNewPhoneNumber(event.target.value);\n  };\n\n  const handleFilterTextChange = event => {\n    setFilterText(event.target.value);\n  };\n\n  const handlePersonDelete = id => {\n    let person = persons.find(person => person.id === id);\n    if (window.confirm(\"Are you sure you want to delete \" + person.name)) {\n      personService\n        .remove(id)\n        .then(response => {\n          setPersons(persons.filter(p => p.id !== id));\n        })\n        .catch(error => {\n          setNotification({\n            message: `Person '${person.name}' was already removed from server`,\n            type: \"error\"\n          });\n          setTimeout(() => {\n            setNotification(null);\n          }, 5000);\n          setPersons(persons.filter(p => p.id !== person.id));\n        });\n    }\n  };\n\n  let displayList = [...persons];\n  if (filterText.length > 0) {\n    displayList = persons.filter(person => person.name.includes(filterText));\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <SearchFilter\n        filterText={filterText}\n        handleFilterTextChange={handleFilterTextChange}\n      />\n      <PersonForm\n        newName={newName}\n        newPhoneNumber={newPhoneNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        handleSubmit={handleSubmit}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={displayList} handleDelete={handlePersonDelete}>\n        {\" \"}\n      </Persons>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'  // highlight-line\n\nconst notes = [\n  {\n    id: 1,\n    content: 'HTML is easy',\n    date: '2019-05-30T17:30:31.098Z',\n    important: true\n  },\n  {\n    id: 2,\n    content: 'Browser can execute only Javascript',\n    date: '2019-05-30T18:39:34.091Z',\n    important: false\n  },\n  {\n    id: 3,\n    content: 'GET and POST are the most important methods of HTTP protocol',\n    date: '2019-05-30T19:20:14.298Z',\n    important: true\n  }\n]\n\nReactDOM.render(\n  <App notes={notes} />,\n  document.getElementById('root')\n)"],"sourceRoot":""}